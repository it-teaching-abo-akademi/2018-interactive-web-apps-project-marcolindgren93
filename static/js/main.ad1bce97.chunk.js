(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(t,e,n){t.exports=n(301)},299:function(t,e,n){},301:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),r=n(33),i=n.n(r),s=n(18),c=n(19),l=n(21),u=n(20),p=n(22),d=n(9),h=n(12),f=n(24),b=(n(160),n(13));function m(){var t=Object(h.a)(["\n  padding: ",";\n  text-transform: uppercase;\n  font-size: ",";\n  border: none;\n  border-radius: 15px;\n  background-color: ",";\n  color: white;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.4);\n  cursor: ",";\n"]);return m=function(){return t},t}var y=b.a.button(m(),function(t){return t.tiny?"2px":"8px"},function(t){return t.tiny?"10px":"15px"},function(t){return t.disabled?"gainsboro":t.color||"dodgerblue"},function(t){return t.disabled?"default":"pointer"}),v=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(y,{tiny:this.props.tiny,disabled:this.props.disabled,color:this.props.color,onClick:this.props.disabled?function(){}:this.props.onClick},this.props.label)}}]),e}(o.a.Component);function g(){var t=Object(h.a)(["\n  width: 100%;\n  max-width: 800px;\n  padding: 10px;\n  background-color: white;\n  border-radius: 15px;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.4);\n  z-index: 101;\n"]);return g=function(){return t},t}function k(){var t=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  margin: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  z-index: 100;\n"]);return k=function(){return t},t}var x=b.a.div(k()),O=b.a.div(g()),S=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(x,null,o.a.createElement(O,null,this.props.children))}}]),e}(o.a.Component);function j(){var t=Object(h.a)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n  border: 4px solid rgba(0, 0, 0, 0.4);\n  border-radius: 100%;\n  border-bottom-color: black;\n  animation: "," 1s ease-in-out infinite;\n"]);return j=function(){return t},t}function E(){var t=Object(h.a)(["\n  to {\n    transform: rotate(360deg);\n  }\n"]);return E=function(){return t},t}var w=Object(b.b)(E()),D=b.a.div(j(),function(t){return t.size?t.size:"15px"},function(t){return t.size?t.size:"15px"},w),I=n(25),C=n.n(I),P=n(93),L=(n(168),n(305)),U=n(306),R=n(297),N=n(298),M=n(128),G=n(303),T=n(302);function z(){var t=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]);return z=function(){return t},t}function Q(){var t=Object(h.a)(["\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n"]);return Q=function(){return t},t}function q(){var t=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 10px 0;\n  height: 300px;\n"]);return q=function(){return t},t}function A(){var t=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return A=function(){return t},t}var B=b.a.div(A()),V=b.a.div(q()),$=b.a.div(Q()),_=b.a.div(z()),H=["deepskyblue","deeppink","mediumseagreen"],J=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={startDate:C()().add(-7,"days"),endDate:C()(),historyData:[],historyNumLoaded:0,chartData:[]},n.handleStartDate=n.handleStartDate.bind(Object(d.a)(Object(d.a)(n))),n.handleEndDate=n.handleEndDate.bind(Object(d.a)(Object(d.a)(n))),n.fetchHistory=n.fetchHistory.bind(Object(d.a)(Object(d.a)(n))),n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.fetchHistory()}},{key:"componentDidUpdate",value:function(t,e){var n=this;if(e.historyNumLoaded!==this.state.historyNumLoaded||e.startDate!==this.state.startDate||e.endDate!==this.state.endDate){var a=[];for(var o in this.state.historyData)a=a.concat([this.state.historyData[o]]);a=a.filter(function(t){return C()(t.date)>=n.state.startDate.startOf("day")&&C()(t.date)<=n.state.endDate.startOf("day")}).sort(function(t,e){return C()(t.date)-C()(e.date)}),this.setState({chartData:a})}}},{key:"render",value:function(){var t=this;return o.a.createElement(S,null,o.a.createElement(B,null,"Performance: ",this.props.name," ",o.a.createElement(v,{label:"Close",onClick:this.props.onClose,color:"crimson"})),o.a.createElement(V,null,0!==this.state.chartData.length?o.a.createElement(L.a,{width:"100%",height:300},o.a.createElement(U.a,{data:this.state.chartData},o.a.createElement(R.a,{dataKey:"date"}),o.a.createElement(N.a,{unit:"$"}),o.a.createElement(M.a,null),o.a.createElement(G.a,{unit:"$"}),Object.keys(this.props.stocks).map(function(e){return o.a.createElement(T.a,{key:e,dataKey:"".concat(t.props.stocks[e].symbol),stroke:H[e],dot:!1})}))):this.state.historyNumLoaded!==this.props.stocks.length?o.a.createElement(D,{size:"100px"}):o.a.createElement(v,{label:"\xa0\u21bb\xa0Refresh",onClick:function(){return t.fetchHistory()},color:"springgreen"})),o.a.createElement($,null,o.a.createElement(_,null,"Start date:",o.a.createElement(P.a,{selected:this.state.startDate.toDate(),onChange:this.handleStartDate,dateFormat:"yyyy-MM-dd",dropdownMode:"scroll"})),o.a.createElement(_,null,"End date:",o.a.createElement(P.a,{selected:this.state.endDate.toDate(),onChange:this.handleEndDate,dateFormat:"yyyy-MM-dd",dropdownMode:"scroll"}))))}},{key:"handleStartDate",value:function(t){this.state.endDate>C()(t)?this.setState({startDate:C()(t)}):f.toast.warn("Start date must be earlier than the end date!")}},{key:"handleEndDate",value:function(t){C()(t)>C()()?f.toast.warn("End date can not be a future date!"):C()(t)<=this.state.startDate?f.toast.warn("End date must be later than the start date!"):this.setState({endDate:C()(t)})}},{key:"fetchHistory",value:function(){var t=this;this.setState({historyNumLoaded:0});var e=!0,n=!1,a=void 0;try{for(var o,r=function(){var e=o.value;fetch("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol="+e.symbol+"&outputsize=full&apikey=DS84MQOB8WEPGBNM").then(function(t){return t.json()}).then(function(n){if("Error Message"in n)t.setState({historyNumLoaded:t.state.historyNumLoaded+1}),f.toast.error("Invalid symbol!");else if("Note"in n)t.setState({historyNumLoaded:t.state.historyNumLoaded+1}),f.toast.error("API limit reached. Please wait a minute and try again.");else{var a=t.state.historyData;for(var o in n["Time Series (Daily)"])a[o]||(a[o]={date:o}),a[o][e.symbol]=n["Time Series (Daily)"][o]["4. close"];t.setState({historyNumLoaded:t.state.historyNumLoaded+1,historyData:a})}},function(e){t.setState({historyNumLoaded:t.state.historyNumLoaded+1}),f.toast.error(e)})},i=this.props.stocks[Symbol.iterator]();!(e=(o=i.next()).done);e=!0)r()}catch(s){n=!0,a=s}finally{try{e||null==i.return||i.return()}finally{if(n)throw a}}}}]),e}(o.a.Component);function W(){var t=Object(h.a)(["\n  width: 20px;\n  height: 20px;\n  border: none;\n  border-radius: 15px;\n  box-shadow: "," 1px 1px 5px rgba(0, 0, 0, 0.4);\n  background-color: ",";\n"]);return W=function(){return t},t}var F=b.a.button(W(),function(t){return t.checked?"":"inset"},function(t){return t.checked?"orange":"transparent"}),K=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(F,{checked:this.props.checked,onClick:this.props.onClick})}}]),e}(o.a.Component);function X(){var t=Object(h.a)(["\n  text-align: left;\n  border: 1px solid black;\n  border-top: 0;\n  border-bottom: 0;\n  min-width: 56px;\n  overflow: auto;\n  word-wrap: break-word;\n  \n  :first-child {\n    border-left: 0;\n  }\n  \n  :last-child {\n    border-right: 0;\n  }\n"]);return X=function(){return t},t}function Y(){var t=Object(h.a)(["\n  width: 100%;\n  max-height: 100px;\n  overflow-y: scroll;\n"]);return Y=function(){return t},t}function Z(){var t=Object(h.a)(["\n  text-align: left;\n  border: 1px solid black;\n  border-top: 0;\n  \n  :first-child {\n    border-left: 0;\n  }\n  \n  :last-child {\n    border-right: 0;\n  }\n"]);return Z=function(){return t},t}function tt(){var t=Object(h.a)(["\n  height: 30px;\n  position: relative;\n  font-size: 10px;\n  display: table-row;\n  \n  :hover {\n    background-color: aliceblue;\n  }\n  \n  :only-child {\n    :hover {\n      background-color: transparent;\n    }\n  }\n"]);return tt=function(){return t},t}function et(){var t=Object(h.a)(["\n  width: 100%;\n  border-collapse: collapse;\n"]);return et=function(){return t},t}function nt(){var t=Object(h.a)(["\n  width: 100%;\n  height: 200px;\n  padding: 5px;\n  overflow-y: auto;\n  border-radius: 15px;\n  box-shadow: inset 1px 1px 5px rgba(0, 0, 0, 0.4);\n  position: relative;\n  table-layout: fixed;\n  background-color: white;\n"]);return nt=function(){return t},t}var at=b.a.div(nt()),ot=b.a.table(et()),rt=b.a.tr(tt()),it=b.a.th(Z()),st=b.a.tbody(Y()),ct=b.a.td(X()),lt=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.createElement(at,null,a.createElement(ot,null,a.createElement("thead",null,a.createElement(rt,null,a.createElement(it,null,"Name"),a.createElement(it,null,"Unit value"),a.createElement(it,null,"Quantity"),a.createElement(it,null,"Total value"),a.createElement(it,null,"Select"))),a.createElement(st,null,this.props.children)))}}]),e}(a.Component);function ut(){var t=Object(h.a)(["\n  width: 56px;\n  font-size: 10px;\n  height: 20px;\n"]);return ut=function(){return t},t}var pt=b.a.input(ut()),dt=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={inputNum:n.props.quantity,valueIsLoaded:!1},n.fetchData=n.fetchData.bind(Object(d.a)(Object(d.a)(n))),n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){0===this.props.value?this.fetchData():this.setState({valueIsLoaded:!0})}},{key:"componentDidUpdate",value:function(t){t.quantity!==this.props.quantity&&this.resetState()}},{key:"render",value:function(){var t=this,e=1;return"EUR"===this.props.currency&&this.props.exchangeRate&&(e=this.props.exchangeRate),a.createElement(rt,null,a.createElement(ct,null,this.props.name),a.createElement(ct,null,this.state.valueIsLoaded?a.createElement("span",null,"USD"===this.props.currency&&"$",Math.round(this.props.value*e*100)/100,"EUR"===this.props.currency&&"\u20ac"):a.createElement(D,{size:"10px"}),"\xa0",a.createElement(v,{label:"\xa0\u21bb\xa0",color:"springgreen",onClick:function(){return t.fetchData()},tiny:!0})),a.createElement(ct,null,a.createElement(pt,{type:"number",value:this.state.inputNum,min:0,onChange:function(e){return t.handleInput(e)}})),a.createElement(ct,null,this.state.valueIsLoaded?a.createElement("span",null,"USD"===this.props.currency&&"$",Math.round(this.props.value*this.state.inputNum*e*100)/100,"EUR"===this.props.currency&&"\u20ac"):a.createElement(D,{size:"10px"})),a.createElement(ct,{style:{textAlign:"center"}},a.createElement(K,{checked:this.props.selected,onClick:function(){return t.props.onSelect(t.props.index)}})))}},{key:"handleInput",value:function(t){this.setState({inputNum:t.target.value}),this.props.onUpdateQuantity(this.props.index,t.target.value)}},{key:"resetState",value:function(){this.setState({inputNum:this.props.quantity})}},{key:"fetchData",value:function(){var t=this;this.setState({valueIsLoaded:!1}),fetch("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol="+this.props.name+"&apikey=DS84MQOB8WEPGBNM").then(function(t){return t.json()}).then(function(e){e["Global Quote"]?"Note"in e?(t.setState({valueIsLoaded:!0}),f.toast.error("API call limit reached. Please wait a minute and try again.")):(t.setState({valueIsLoaded:!0}),t.props.onUpdateValue(t.props.index,e["Global Quote"]["05. price"])):(t.setState({valueIsLoaded:!0}),f.toast.error("Invalid symbol!"))},function(e){t.setState({valueIsLoaded:!0}),f.toast.error(e)})}}]),e}(a.Component);function ht(){var t=Object(h.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-top: 10px;\n"]);return ht=function(){return t},t}function ft(){var t=Object(h.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 280px;\n  justify-content: space-between;\n  margin-bottom: 10px;\n"]);return ft=function(){return t},t}function bt(){var t=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 10px;\n"]);return bt=function(){return t},t}function mt(){var t=Object(h.a)(["\n  border-radius: 15px;\n  margin-right: 10px;\n  margin-bottom: 10px;\n  padding: 10px;\n  width: 100%;\n  max-width: 800px;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.4);\n  background-color: aliceblue;\n"]);return mt=function(){return t},t}var yt=b.a.div(mt()),vt=b.a.div(bt()),gt=b.a.div(ft()),kt=b.a.div(ht()),xt=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={isGraphOpen:!1,isInputOpen:!1,stocks:n.props.portfolio.stocks,selectedStocks:[],currency:"USD"},n.toggleGraphPopup=n.toggleGraphPopup.bind(Object(d.a)(Object(d.a)(n))),n.toggleInputPopup=n.toggleInputPopup.bind(Object(d.a)(Object(d.a)(n))),n.newStock=n.newStock.bind(Object(d.a)(Object(d.a)(n))),n.updateStockQuantity=n.updateStockQuantity.bind(Object(d.a)(Object(d.a)(n))),n.updateStockValue=n.updateStockValue.bind(Object(d.a)(Object(d.a)(n))),n.toggleSelect=n.toggleSelect.bind(Object(d.a)(Object(d.a)(n))),n.removeStocks=n.removeStocks.bind(Object(d.a)(Object(d.a)(n))),n.setEUR=n.setEUR.bind(Object(d.a)(Object(d.a)(n))),n.setUSD=n.setUSD.bind(Object(d.a)(Object(d.a)(n))),n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t){t.portfolio!==this.props.portfolio&&this.resetState()}},{key:"render",value:function(){var t=this,e=this.props.portfolio.name||"Portfolio "+(parseInt(this.props.index)+1);return o.a.createElement(yt,null,o.a.createElement(vt,null,e,o.a.createElement(v,{label:"\xa0X\xa0",color:"crimson",onClick:function(){return t.props.onDelete(t.props.index)}})),o.a.createElement(gt,null,o.a.createElement(v,{label:"Show in \u20ac",onClick:this.setEUR,disabled:-1===this.props.exchangeRate}),!this.props.exchangeIsLoaded&&o.a.createElement(D,{size:"33px"}),this.props.exchangeIsLoaded&&-1===this.props.exchangeRate&&o.a.createElement(v,{label:"\xa0\u21bb\xa0",onClick:this.props.onReloadExchange,color:"springgreen"}),o.a.createElement(v,{label:"Show in $",onClick:this.setUSD,disabled:-1===this.props.exchangeRate})),o.a.createElement(lt,null,Object.keys(this.state.stocks).map(function(e){return o.a.createElement(dt,{key:e,index:e,name:t.state.stocks[e].symbol,value:t.state.stocks[e].value,quantity:t.state.stocks[e].quantity,currency:t.state.currency,exchangeRate:t.props.exchangeRate,selected:t.state.selectedStocks.includes(e),onSelect:t.toggleSelect,onUpdateQuantity:t.updateStockQuantity,onUpdateValue:t.updateStockValue})})),o.a.createElement(kt,null,"Total value of ",this.props.portfolio.name,": ","USD"===this.state.currency&&"$",this.calculateTotalValue(),"EUR"===this.state.currency&&"\u20ac"),o.a.createElement(kt,null,o.a.createElement(v,{label:"Add Stock",onClick:this.toggleInputPopup,disabled:this.state.stocks.length>=50}),o.a.createElement(v,{label:"Performance graph",onClick:this.toggleGraphPopup,disabled:this.state.selectedStocks.length<2||this.state.selectedStocks.length>3}),o.a.createElement(v,{label:"Remove selected",onClick:this.removeStocks,disabled:0===this.state.selectedStocks.length})),this.state.isGraphOpen&&o.a.createElement(J,{name:e,onClose:this.toggleGraphPopup,stocks:this.state.stocks.filter(function(e){return t.state.selectedStocks.includes(t.state.stocks.indexOf(e).toString())})}),this.state.isInputOpen&&o.a.createElement(wt,{labelText:"Enter the symbol for your stock:",submitText:"Add Stock",maxLength:"5",onSubmit:this.newStock,onClose:this.toggleInputPopup}))}},{key:"toggleGraphPopup",value:function(){this.setState({isGraphOpen:!this.state.isGraphOpen})}},{key:"toggleInputPopup",value:function(){this.setState({isInputOpen:!this.state.isInputOpen})}},{key:"newStock",value:function(t){if(this.state.stocks.length<50&&t){var e=this.state.stocks.concat([{symbol:t.toUpperCase(),quantity:1,value:0}]);this.setState({stocks:e}),this.props.onUpdateStocks(this.props.index,e)}}},{key:"updateStockQuantity",value:function(t,e){if(parseInt(t)>=0){var n=this.state.stocks;n[t].quantity=e,this.setState({stocks:n}),this.props.onUpdateStocks(this.props.index,n)}}},{key:"updateStockValue",value:function(t,e){if(parseInt(t)>=0){var n=this.state.stocks;n[t].value=e,this.setState({stocks:n}),this.props.onUpdateStocks(this.props.index,n)}}},{key:"toggleSelect",value:function(t){if(parseInt(t)>=0){var e=this.state.selectedStocks,n=e.indexOf(t);n>-1?e.splice(n,1):e.push(t),this.setState({selectedStocks:e})}}},{key:"removeStocks",value:function(){var t=this.state.selectedStocks,e=this.state.stocks,n=0,a=50,o=!0,r=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value,u=parseInt(l);e.splice(a>=u?u:u-n,1),n++,a=u}}catch(p){r=!0,i=p}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}this.setState({stocks:e,selectedStocks:[]}),this.props.onUpdateStocks(this.props.index,e)}},{key:"resetState",value:function(){this.setState({stocks:this.props.portfolio.stocks,selectedStocks:[]})}},{key:"setEUR",value:function(){this.setState({currency:"EUR"})}},{key:"setUSD",value:function(){this.setState({currency:"USD"})}},{key:"calculateTotalValue",value:function(){var t=1;"EUR"===this.state.currency&&this.props.exchangeRate&&(t=this.props.exchangeRate);var e=0,n=!0,a=!1,o=void 0;try{for(var r,i=this.state.stocks[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var s=r.value;e+=s.value*s.quantity*t}}catch(c){a=!0,o=c}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return Math.round(100*e)/100}}]),e}(o.a.Component);function Ot(){var t=Object(h.a)(["\n  font-size: 15px;\n  height: 30px;\n  width: 300px;\n"]);return Ot=function(){return t},t}function St(){var t=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  height: 150px;\n"]);return St=function(){return t},t}var jt=b.a.div(St()),Et=b.a.input(Ot()),wt=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={inputStr:""},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"render",value:function(){var t=this;return o.a.createElement(S,null,o.a.createElement(jt,null,this.props.labelText,o.a.createElement(Et,{type:"text",ref:function(e){return t.input=e},value:this.state.inputStr,maxLength:this.props.maxLength,onChange:function(e){return t.handleInput(e)}}),o.a.createElement(kt,null,o.a.createElement(v,{label:this.props.submitText||"Submit",onClick:function(){return t.handleSubmit()},disabled:!this.state.inputStr}),o.a.createElement(v,{label:"Cancel",color:"crimson",onClick:this.props.onClose}))))}},{key:"handleInput",value:function(t){this.setState({inputStr:t.target.value})}},{key:"handleSubmit",value:function(){this.props.onSubmit(this.state.inputStr),this.props.onClose()}}]),e}(o.a.Component);function Dt(){var t=Object(h.a)(["\n  width: 100%;\n  margin-top: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n"]);return Dt=function(){return t},t}function It(){var t=Object(h.a)(["\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n"]);return It=function(){return t},t}var Ct=b.a.div(It()),Pt=b.a.div(Dt()),Lt=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={isPopupOpen:!1,portfolios:JSON.parse(localStorage.getItem("portfolios"))||[],exchangeIsLoaded:!1,exchangeRate:-1},n.newPortfolio=n.newPortfolio.bind(Object(d.a)(Object(d.a)(n))),n.removePortfolio=n.removePortfolio.bind(Object(d.a)(Object(d.a)(n))),n.togglePopup=n.togglePopup.bind(Object(d.a)(Object(d.a)(n))),n.updateStocks=n.updateStocks.bind(Object(d.a)(Object(d.a)(n))),n.fetchExchange=n.fetchExchange.bind(Object(d.a)(Object(d.a)(n))),n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.fetchExchange()}},{key:"render",value:function(){var t=this;return o.a.createElement(Ct,null,o.a.createElement(f.ToastContainer,{position:"top-center"}),o.a.createElement(v,{label:"Add new portfolio",onClick:function(){return t.togglePopup()},disabled:this.state.portfolios.length>=10}),o.a.createElement(Pt,null,Object.keys(this.state.portfolios).map(function(e){return o.a.createElement(xt,{key:e,index:e,portfolio:t.state.portfolios[e],onDelete:t.removePortfolio,onUpdateStocks:t.updateStocks,onReloadExchange:t.fetchExchange,exchangeIsLoaded:t.state.exchangeIsLoaded,exchangeRate:parseFloat(t.state.exchangeRate)})})),this.state.isPopupOpen&&o.a.createElement(wt,{labelText:"Enter a name for your portfolio:",submitText:"Add Portfolio",maxLength:"16",onSubmit:this.newPortfolio,onClose:this.togglePopup}))}},{key:"togglePopup",value:function(){this.setState({isPopupOpen:!this.state.isPopupOpen})}},{key:"newPortfolio",value:function(t){if(this.state.portfolios.length<10){var e=this.state.portfolios.concat([{name:t||"",currency:"EUR",stocks:[]}]);this.setState({portfolios:e}),localStorage.setItem("portfolios",JSON.stringify(e))}}},{key:"removePortfolio",value:function(t){if(parseInt(t)>=0){var e=this.state.portfolios;e.splice(t,1),this.setState({portfolios:e}),localStorage.setItem("portfolios",JSON.stringify(e))}}},{key:"updateStocks",value:function(t,e){if(parseInt(t)>=0){var n=this.state.portfolios;n[t].stocks=e,this.setState({portfolios:n}),localStorage.setItem("portfolios",JSON.stringify(n))}}},{key:"fetchExchange",value:function(){var t=this;this.setState({exchangeIsLoaded:!1}),fetch("https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=USD&to_currency=EUR&apikey=DS84MQOB8WEPGBNM").then(function(t){return t.json()}).then(function(e){"Error Message"in e?(t.setState({exchangeIsLoaded:!0}),f.toast.error("Invalid symbol!")):"Note"in e?(t.setState({exchangeIsLoaded:!0}),f.toast.error("API limit reached. Please wait a minute and try again.")):t.setState({exchangeIsLoaded:!0,exchangeRate:e["Realtime Currency Exchange Rate"]["5. Exchange Rate"]})},function(e){t.setState({exchangeIsLoaded:!0}),f.toast.error(e)})}}]),e}(o.a.Component);n(299),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[147,2,1]]]);
//# sourceMappingURL=main.ad1bce97.chunk.js.map