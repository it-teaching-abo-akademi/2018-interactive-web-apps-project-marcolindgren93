(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(t,e,n){t.exports=n(31)},29:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(9),i=n.n(r),s=n(4),c=n(5),l=n(8),u=n(6),p=n(7),h=n(1),d=n(2),f=n(3);function b(){var t=Object(d.a)(["\n  padding: ",";\n  text-transform: uppercase;\n  font-size: ",";\n  border: none;\n  border-radius: 15px;\n  background-color: ",";\n  color: white;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.4);\n  cursor: ",";\n"]);return b=function(){return t},t}var m=f.a.button(b(),function(t){return t.tiny?"2px":"8px"},function(t){return t.tiny?"10px":"15px"},function(t){return t.disabled?"gainsboro":t.color||"dodgerblue"},function(t){return t.disabled?"default":"pointer"}),g=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(m,{tiny:this.props.tiny,disabled:this.props.disabled,color:this.props.color,onClick:this.props.disabled?function(){}:this.props.onClick},this.props.label)}}]),e}(o.a.Component);function v(){var t=Object(d.a)(["\n  width: 100%;\n  max-width: 800px;\n  padding: 10px;\n  background-color: white;\n  border-radius: 15px;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.4);\n  z-index: 101;\n"]);return v=function(){return t},t}function x(){var t=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  margin: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  z-index: 100;\n"]);return x=function(){return t},t}var k=f.a.div(x()),y=f.a.div(v()),O=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(k,null,o.a.createElement(y,null,this.props.children))}}]),e}(o.a.Component);function S(){var t=Object(d.a)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n  border: 4px solid rgba(0, 0, 0, 0.4);\n  border-radius: 100%;\n  border-bottom-color: black;\n  animation: "," 1s ease-in-out infinite;\n"]);return S=function(){return t},t}function j(){var t=Object(d.a)(["\n  to {\n    transform: rotate(360deg);\n  }\n"]);return j=function(){return t},t}var E=Object(f.b)(j()),w=f.a.div(S(),function(t){return t.size?t.size:"15px"},function(t){return t.size?t.size:"15px"},E),I=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(O,null,this.props.name," ",o.a.createElement(g,{label:"Close",onClick:this.props.onClose}))}}]),e}(o.a.Component);function C(){var t=Object(d.a)(["\n  width: 20px;\n  height: 20px;\n  border: none;\n  border-radius: 15px;\n  box-shadow: "," 1px 1px 5px rgba(0, 0, 0, 0.4);\n  background-color: ",";\n"]);return C=function(){return t},t}var U=f.a.button(C(),function(t){return t.checked?"":"inset"},function(t){return t.checked?"orange":"transparent"}),P=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(U,{checked:this.props.checked,onClick:this.props.onClick})}}]),e}(o.a.Component);function R(){var t=Object(d.a)(["\n  text-align: left;\n  border: 1px solid black;\n  border-top: 0;\n  border-bottom: 0;\n  min-width: 56px;\n  overflow: auto;\n  word-wrap: break-word;\n  \n  :first-child {\n    border-left: 0;\n  }\n  \n  :last-child {\n    border-right: 0;\n  }\n"]);return R=function(){return t},t}function L(){var t=Object(d.a)(["\n  width: 100%;\n  max-height: 100px;\n  overflow-y: scroll;\n"]);return L=function(){return t},t}function D(){var t=Object(d.a)(["\n  text-align: left;\n  border: 1px solid black;\n  border-top: 0;\n  \n  :first-child {\n    border-left: 0;\n  }\n  \n  :last-child {\n    border-right: 0;\n  }\n"]);return D=function(){return t},t}function N(){var t=Object(d.a)(["\n  height: 30px;\n  position: relative;\n  font-size: 10px;\n  display: table-row;\n  \n  :hover {\n    background-color: aliceblue;\n  }\n  \n  :only-child {\n    :hover {\n      background-color: transparent;\n    }\n  }\n"]);return N=function(){return t},t}function z(){var t=Object(d.a)(["\n  width: 100%;\n  border-collapse: collapse;\n"]);return z=function(){return t},t}function G(){var t=Object(d.a)(["\n  width: 100%;\n  height: 200px;\n  padding: 5px;\n  overflow-y: auto;\n  border-radius: 15px;\n  box-shadow: inset 1px 1px 5px rgba(0, 0, 0, 0.4);\n  position: relative;\n  table-layout: fixed;\n"]);return G=function(){return t},t}var M=f.a.div(G()),Q=f.a.table(z()),q=f.a.tr(N()),A=f.a.th(D()),T=f.a.tbody(L()),B=f.a.td(R()),J=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.createElement(M,null,a.createElement(Q,null,a.createElement("thead",null,a.createElement(q,null,a.createElement(A,null,"Name"),a.createElement(A,null,"Unit value"),a.createElement(A,null,"Quantity"),a.createElement(A,null,"Total value"),a.createElement(A,null,"Select"))),a.createElement(T,null,this.props.children)))}}]),e}(a.Component);function V(){var t=Object(d.a)(["\n  width: 56px;\n  font-size: 10px;\n  height: 20px;\n"]);return V=function(){return t},t}var _=f.a.input(V()),W=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={inputNum:n.props.quantity,valueError:null,valueIsLoaded:!1},n.fetchData=n.fetchData.bind(Object(h.a)(Object(h.a)(n))),n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){0===this.props.value?this.fetchData():this.setState({valueIsLoaded:!0})}},{key:"componentDidUpdate",value:function(t){t.quantity!==this.props.quantity&&this.resetState()}},{key:"render",value:function(){var t=this,e=1;return"EUR"===this.props.currency&&this.props.exchangeRate&&(e=this.props.exchangeRate),a.createElement(q,null,a.createElement(B,null,this.props.name),a.createElement(B,null,this.state.valueIsLoaded?a.createElement("span",null,"USD"===this.props.currency&&"$",Math.round(this.props.value*e*100)/100,"EUR"===this.props.currency&&"\u20ac"):a.createElement(w,{size:"10px"}),"\xa0",a.createElement(g,{label:"\u21bb",color:"springgreen",onClick:this.fetchData,tiny:!0}),"\xa0",!!this.state.valueError&&this.state.valueError.message),a.createElement(B,null,a.createElement(_,{type:"number",value:this.state.inputNum,min:0,onChange:function(e){return t.handleInput(e)}})),a.createElement(B,null,this.state.valueIsLoaded?a.createElement("span",null,"USD"===this.props.currency&&"$",Math.round(this.props.value*this.state.inputNum*e*100)/100,"EUR"===this.props.currency&&"\u20ac"):a.createElement(w,{size:"10px"})),a.createElement(B,{style:{textAlign:"center"}},a.createElement(P,{checked:this.props.selected,onClick:function(){return t.props.onSelect(t.props.index)}})))}},{key:"handleInput",value:function(t){this.setState({inputNum:t.target.value}),this.props.onUpdateQuantity(this.props.index,t.target.value)}},{key:"resetState",value:function(){this.setState({inputNum:this.props.quantity})}},{key:"fetchData",value:function(){var t=this;this.setState({valueError:null,valueIsLoaded:!1}),fetch("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol="+this.props.name+"&apikey=DS84MQOB8WEPGBNM").then(function(t){return t.json()}).then(function(e){"Error Message"in e?t.setState({valueIsLoaded:!0,valueError:{message:"Invalid symbol"}}):"Note"in e?t.setState({valueIsLoaded:!0,valueError:{message:"API call limit reached"}}):(t.setState({valueIsLoaded:!0}),t.props.onUpdateValue(t.props.index,e["Global Quote"]["05. price"]))},function(e){t.setState({valueIsLoaded:!0,valueError:e})})}}]),e}(a.Component);function $(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-top: 10px;\n"]);return $=function(){return t},t}function X(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 280px;\n  justify-content: space-between;\n  margin-bottom: 10px;\n"]);return X=function(){return t},t}function F(){var t=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 10px;\n"]);return F=function(){return t},t}function H(){var t=Object(d.a)(["\n  border-radius: 15px;\n  margin-right: 10px;\n  margin-bottom: 10px;\n  padding: 10px;\n  width: 100%;\n  max-width: 800px;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.4);\n"]);return H=function(){return t},t}var Y=f.a.div(H()),K=f.a.div(F()),Z=f.a.div(X()),tt=f.a.div($()),et=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={isGraphOpen:!1,isInputOpen:!1,stocks:n.props.portfolio.stocks,selectedStocks:[],currency:"USD"},n.toggleGraphPopup=n.toggleGraphPopup.bind(Object(h.a)(Object(h.a)(n))),n.toggleInputPopup=n.toggleInputPopup.bind(Object(h.a)(Object(h.a)(n))),n.newStock=n.newStock.bind(Object(h.a)(Object(h.a)(n))),n.updateStockQuantity=n.updateStockQuantity.bind(Object(h.a)(Object(h.a)(n))),n.updateStockValue=n.updateStockValue.bind(Object(h.a)(Object(h.a)(n))),n.toggleSelect=n.toggleSelect.bind(Object(h.a)(Object(h.a)(n))),n.removeStocks=n.removeStocks.bind(Object(h.a)(Object(h.a)(n))),n.setEUR=n.setEUR.bind(Object(h.a)(Object(h.a)(n))),n.setUSD=n.setUSD.bind(Object(h.a)(Object(h.a)(n))),n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(t){t.portfolio!==this.props.portfolio&&this.resetState()}},{key:"render",value:function(){var t=this,e=this.props.portfolio.name||"Portfolio "+(parseInt(this.props.index)+1);return o.a.createElement(Y,null,o.a.createElement(K,null,e,o.a.createElement(g,{label:"\xa0X\xa0",color:"crimson",onClick:function(){return t.props.onDelete(t.props.index)}})),o.a.createElement(Z,null,o.a.createElement(g,{label:"Show in \u20ac",onClick:this.setEUR,disabled:"EUR"===this.state.currency||!this.props.exchangeIsLoaded||!!this.props.exchangeError}),!this.props.exchangeIsLoaded&&o.a.createElement(w,{size:"33px"}),!!this.props.exchangeError&&this.props.exchangeError.message,o.a.createElement(g,{label:"Show in $",onClick:this.setUSD,disabled:"USD"===this.state.currency||!this.props.exchangeIsLoaded||!!this.props.exchangeError})),o.a.createElement(J,null,Object.keys(this.state.stocks).map(function(e){return o.a.createElement(W,{key:e,index:e,name:t.state.stocks[e].symbol,value:t.state.stocks[e].value,quantity:t.state.stocks[e].quantity,currency:t.state.currency,exchangeRate:t.props.exchangeRate,selected:t.state.selectedStocks.includes(e),onSelect:t.toggleSelect,onUpdateQuantity:t.updateStockQuantity,onUpdateValue:t.updateStockValue})})),o.a.createElement(tt,null,o.a.createElement(g,{label:"Add Stock",onClick:this.toggleInputPopup,disabled:this.state.stocks.length>=50}),o.a.createElement(g,{label:"Remove selected",onClick:this.removeStocks,disabled:0===this.state.selectedStocks.length})),this.state.isGraphOpen&&o.a.createElement(I,{name:e,onClose:this.toggleGraphPopup}),this.state.isInputOpen&&o.a.createElement(it,{labelText:"Enter the symbol for your stock:",submitText:"Add Stock",maxLength:"5",onSubmit:this.newStock,onClose:this.toggleInputPopup}))}},{key:"toggleGraphPopup",value:function(){this.setState({isGraphOpen:!this.state.isGraphOpen})}},{key:"toggleInputPopup",value:function(){this.setState({isInputOpen:!this.state.isInputOpen})}},{key:"newStock",value:function(t){if(this.state.stocks.length<50&&t){var e=this.state.stocks.concat([{symbol:t.toUpperCase(),quantity:1,value:0}]);this.setState({stocks:e}),this.props.onUpdateStocks(this.props.index,e)}}},{key:"updateStockQuantity",value:function(t,e){if(parseInt(t)>=0){var n=this.state.stocks;n[t].quantity=e,this.setState({stocks:n}),this.props.onUpdateStocks(this.props.index,n)}}},{key:"updateStockValue",value:function(t,e){if(parseInt(t)>=0){var n=this.state.stocks;n[t].value=e,this.setState({stocks:n}),this.props.onUpdateStocks(this.props.index,n)}}},{key:"toggleSelect",value:function(t){if(parseInt(t)>=0){var e=this.state.selectedStocks,n=e.indexOf(t);n>-1?e.splice(n,1):e.push(t),this.setState({selectedStocks:e})}}},{key:"removeStocks",value:function(){var t=this.state.selectedStocks,e=this.state.stocks;console.log(e);var n=0,a=50,o=!0,r=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value,u=parseInt(l);console.log(a>=u?u:u-n),e.splice(a>=u?u:u-n,1),n++,a=u}}catch(p){r=!0,i=p}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}console.log(e),this.setState({stocks:e,selectedStocks:[]}),this.props.onUpdateStocks(this.props.index,e)}},{key:"resetState",value:function(){this.setState({stocks:this.props.portfolio.stocks,selectedStocks:[]})}},{key:"setEUR",value:function(){this.setState({currency:"EUR"})}},{key:"setUSD",value:function(){this.setState({currency:"USD"})}}]),e}(o.a.Component);function nt(){var t=Object(d.a)(["\n  font-size: 15px;\n  height: 30px;\n  width: 300px;\n"]);return nt=function(){return t},t}function at(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  height: 150px;\n"]);return at=function(){return t},t}var ot=f.a.div(at()),rt=f.a.input(nt()),it=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={inputStr:""},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"render",value:function(){var t=this;return o.a.createElement(O,null,o.a.createElement(ot,null,this.props.labelText,o.a.createElement(rt,{type:"text",ref:function(e){return t.input=e},value:this.state.inputStr,maxLength:this.props.maxLength,onChange:function(e){return t.handleInput(e)}}),o.a.createElement(tt,null,o.a.createElement(g,{label:this.props.submitText||"Submit",onClick:function(){return t.handleSubmit()},disabled:!this.state.inputStr}),o.a.createElement(g,{label:"Cancel",color:"crimson",onClick:this.props.onClose}))))}},{key:"handleInput",value:function(t){this.setState({inputStr:t.target.value})}},{key:"handleSubmit",value:function(){this.props.onSubmit(this.state.inputStr),this.props.onClose()}}]),e}(o.a.Component);function st(){var t=Object(d.a)(["\n  width: 100%;\n  margin-top: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n"]);return st=function(){return t},t}function ct(){var t=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n"]);return ct=function(){return t},t}var lt=f.a.div(ct()),ut=f.a.div(st()),pt=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={isPopupOpen:!1,portfolios:JSON.parse(localStorage.getItem("portfolios"))||[],exchangeError:null,exchangeIsLoaded:!1,exchangeRate:-1},n.newPortfolio=n.newPortfolio.bind(Object(h.a)(Object(h.a)(n))),n.removePortfolio=n.removePortfolio.bind(Object(h.a)(Object(h.a)(n))),n.togglePopup=n.togglePopup.bind(Object(h.a)(Object(h.a)(n))),n.updateStocks=n.updateStocks.bind(Object(h.a)(Object(h.a)(n))),n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=USD&to_currency=EUR&apikey=DS84MQOB8WEPGBNM").then(function(t){return t.json()}).then(function(e){"Error Message"in e?t.setState({exchangeIsLoaded:!0,exchangeError:{message:"Invalid symbol"}}):"Note"in e?t.setState({exchangeIsLoaded:!0,exchangeError:{message:"API limit reached"}}):t.setState({exchangeIsLoaded:!0,exchangeRate:e["Realtime Currency Exchange Rate"]["5. Exchange Rate"]})},function(e){t.setState({exchangeIsLoaded:!0,exchangeError:e})})}},{key:"render",value:function(){var t=this;return o.a.createElement(lt,null,o.a.createElement(g,{label:"Add new portfolio",onClick:function(){return t.togglePopup()},disabled:this.state.portfolios.length>=10}),o.a.createElement(ut,null,Object.keys(this.state.portfolios).map(function(e){return o.a.createElement(et,{key:e,index:e,portfolio:t.state.portfolios[e],onDelete:t.removePortfolio,onUpdateStocks:t.updateStocks,exchangeError:t.state.exchangeError,exchangeIsLoaded:t.state.exchangeIsLoaded,exchangeRate:parseFloat(t.state.exchangeRate)})})),this.state.isPopupOpen&&o.a.createElement(it,{labelText:"Enter a name for your portfolio:",submitText:"Add Portfolio",maxLength:"16",onSubmit:this.newPortfolio,onClose:this.togglePopup}))}},{key:"togglePopup",value:function(){this.setState({isPopupOpen:!this.state.isPopupOpen})}},{key:"newPortfolio",value:function(t){if(this.state.portfolios.length<10){var e=this.state.portfolios.concat([{name:t||"",currency:"EUR",stocks:[]}]);this.setState({portfolios:e}),localStorage.setItem("portfolios",JSON.stringify(e))}}},{key:"removePortfolio",value:function(t){if(parseInt(t)>=0){var e=this.state.portfolios;e.splice(t,1),this.setState({portfolios:e}),localStorage.setItem("portfolios",JSON.stringify(e))}}},{key:"updateStocks",value:function(t,e){if(parseInt(t)>=0){var n=this.state.portfolios;n[t].stocks=e,this.setState({portfolios:n}),localStorage.setItem("portfolios",JSON.stringify(n))}}}]),e}(o.a.Component);n(29),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.a534c46d.chunk.js.map